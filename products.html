<!DOCTYPE html>
<html lang="ko" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gourmet Jeju - 스마트 간편 견적</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&display=swap" rel="stylesheet">
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.14.1/dist/cdn.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Pretendard', 'sans-serif'] },
                    colors: {
                        'brand-navy': '#0f172a',
                        'brand-gold': '#d4af37',
                        'brand-orange': '#ea580c',
                        'brand-light': '#f8fafc'
                    }
                }
            }
        }
    </script>
    <style>
        [x-cloak] { display: none !important; }
        body { font-family: 'Pretendard', sans-serif; }
        .font-serif-eng { font-family: 'Playfair Display', serif; }
        .custom-scroll::-webkit-scrollbar { width: 6px; }
        .custom-scroll::-webkit-scrollbar-track { background: #f1f5f9; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
        
        /* Sticky Sidebar Calculation */
        .sticky-sidebar { position: sticky; top: 100px; max-height: calc(100vh - 120px); overflow-y: auto; }

        /* 영수증 효과 */
        .receipt-paper {
            background-color: #fff;
            position: relative;
            filter: drop-shadow(0 5px 10px rgba(0,0,0,0.1));
        }
        .receipt-top {
            background: radial-gradient(circle, transparent, transparent 50%, #fff 50%, #fff 100%) -7px -8px / 15px 15px repeat-x;
            height: 10px; width: 100%; position: absolute; top: -10px; left: 0;
        }
        .receipt-bottom {
            background: radial-gradient(circle, transparent, transparent 50%, #fff 50%, #fff 100%) -7px -2px / 15px 15px repeat-x;
            height: 10px; width: 100%; position: absolute; bottom: -10px; left: 0; transform: rotate(180deg);
        }
    </style>
</head>
<body class="bg-brand-light text-slate-800 antialiased pb-24 md:pb-0" x-data="app()">

    <div x-show="isProcessing" class="fixed inset-0 z-[100] flex flex-col items-center justify-center bg-brand-navy/90 backdrop-blur-sm text-white" x-cloak>
        <div class="w-12 h-12 border-4 border-white/20 border-t-brand-orange rounded-full animate-spin mb-4"></div>
        <p class="text-lg font-bold animate-pulse">견적서 생성 중...</p>
    </div>

    <header class="fixed w-full z-50 bg-white/95 backdrop-blur-md shadow-sm transition-all duration-300 py-3">
        <nav class="container mx-auto px-4 flex justify-between items-center">
            <a href="index.html" class="text-xl font-bold text-brand-navy flex items-center gap-2">
                <span class="font-serif-eng italic text-2xl">Gourmet Jeju</span>
            </a>
            
            <div class="hidden md:flex space-x-6 items-center">
                <a href="#products" class="text-sm font-bold hover:text-brand-orange transition">상품 목록</a>
                <button @click="openCartModal = true" class="flex items-center gap-2 bg-brand-navy text-white px-4 py-2 rounded-full hover:bg-slate-700 transition relative">
                    <i class="fa-solid fa-clipboard-list"></i>
                    <span class="text-sm font-bold">견적함</span>
                    <span x-show="cart.length > 0" class="absolute -top-1 -right-1 bg-brand-orange text-white text-[10px] font-bold w-5 h-5 flex items-center justify-center rounded-full animate-bounce" x-text="cart.length"></span>
                </button>
            </div>

            <button @click="mobileMenuOpen = !mobileMenuOpen" class="md:hidden text-slate-800 p-2">
                <i class="fas fa-bars text-xl"></i>
            </button>
        </nav>
        
        <div x-show="mobileMenuOpen" @click.away="mobileMenuOpen = false" x-transition class="md:hidden absolute top-full left-0 w-full bg-white shadow-xl border-t border-slate-100 p-4">
            <a href="#products" class="block py-3 font-bold text-slate-600" @click="mobileMenuOpen = false">상품 목록</a>
            <button @click="openCartModal = true; mobileMenuOpen = false" class="w-full mt-2 bg-brand-navy text-white py-3 rounded-xl font-bold flex justify-center gap-2">
                <i class="fa-solid fa-clipboard-list"></i> 견적함 확인 (<span x-text="cart.length"></span>)
            </button>
        </div>
    </header>

    <main class="pt-24 container mx-auto px-4 md:px-6">
        
        <div class="text-center mb-10">
            <h1 class="text-3xl md:text-4xl font-extrabold text-brand-navy mb-4">Product Catalog</h1>
            <p class="text-slate-500 mb-6">제주 최고의 셰프님들을 위한 엄선된 식자재를 만나보세요.</p>
            
            <div class="relative max-w-lg mx-auto mb-8">
                <input type="text" x-model="searchQuery" placeholder="상품명, 브랜드 검색 (예: 버터, 이즈니, 파스타)" 
                       class="w-full pl-12 pr-4 py-3.5 rounded-2xl border border-slate-200 shadow-sm focus:outline-none focus:ring-2 focus:ring-brand-navy transition-all">
                <i class="fa-solid fa-magnifying-glass absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400"></i>
            </div>
        </div>

        <div class="flex flex-col lg:flex-row gap-8 items-start">
            
            <aside class="hidden lg:block w-64 shrink-0 sticky-sidebar space-y-8">
                <div>
                    <h3 class="font-bold text-brand-navy mb-4 flex items-center gap-2"><i class="fa-solid fa-layer-group text-brand-gold"></i> 카테고리</h3>
                    <ul class="space-y-2 text-sm">
                        <li>
                            <button @click="filterCategory = 'all'" :class="filterCategory === 'all' ? 'text-brand-orange font-bold bg-orange-50' : 'text-slate-600 hover:text-brand-navy hover:bg-slate-100'" class="w-full text-left px-3 py-2 rounded-lg transition-colors flex justify-between items-center">
                                <span>전체 보기</span>
                                <span class="text-[10px] bg-white px-2 py-0.5 rounded-full border border-slate-200" x-text="products.length"></span>
                            </button>
                        </li>
                        <template x-for="cat in categories" :key="cat.id">
                            <li>
                                <button @click="filterCategory = cat.id" :class="filterCategory === cat.id ? 'text-brand-orange font-bold bg-orange-50' : 'text-slate-600 hover:text-brand-navy hover:bg-slate-100'" class="w-full text-left px-3 py-2 rounded-lg transition-colors flex justify-between items-center">
                                    <span x-text="cat.name"></span>
                                    <span class="text-[10px] bg-white px-2 py-0.5 rounded-full border border-slate-200 text-slate-400" x-text="getProductCount(cat.id)"></span>
                                </button>
                            </li>
                        </template>
                    </ul>
                </div>

                <div>
                    <h3 class="font-bold text-brand-navy mb-4 flex items-center gap-2"><i class="fa-solid fa-tag text-brand-gold"></i> 브랜드</h3>
                    <div class="flex flex-wrap gap-2 max-h-60 overflow-y-auto custom-scroll">
                        <template x-for="brand in sortedBrands" :key="brand">
                            <button @click="filterBrand === brand ? filterBrand = '' : filterBrand = brand" 
                                    :class="filterBrand === brand ? 'bg-brand-navy text-white border-brand-navy' : 'bg-white text-slate-600 border-slate-200 hover:border-brand-navy'"
                                    class="px-3 py-1.5 rounded-full text-[11px] border font-bold transition-all" x-text="brand"></button>
                        </template>
                    </div>
                </div>
            </aside>

            <div class="lg:hidden w-full overflow-x-auto pb-4 mb-4 flex gap-2 no-scrollbar">
                 <button @click="filterCategory = 'all'" :class="filterCategory === 'all' ? 'bg-brand-navy text-white' : 'bg-white text-slate-600 border border-slate-200'" class="whitespace-nowrap px-4 py-2 rounded-full text-sm font-bold">전체</button>
                 <template x-for="cat in categories" :key="cat.id">
                    <button @click="filterCategory = cat.id" :class="filterCategory === cat.id ? 'bg-brand-navy text-white' : 'bg-white text-slate-600 border border-slate-200'" class="whitespace-nowrap px-4 py-2 rounded-full text-sm font-bold" x-text="cat.name"></button>
                 </template>
            </div>

            <div class="flex-1 w-full">
                
                <div class="flex justify-between items-center mb-6">
                    <span class="text-sm text-slate-500">총 <strong class="text-brand-navy" x-text="filteredProducts.length"></strong>개의 상품</span>
                    <select x-model="sortBy" class="bg-white border border-slate-200 text-slate-600 text-xs rounded-lg px-3 py-2 focus:outline-none focus:border-brand-navy">
                        <option value="default">기본 정렬</option>
                        <option value="name">이름순</option>
                        <option value="brand">브랜드순</option>
                    </select>
                </div>

                <div id="products" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 md:gap-6 mb-20">
                    <template x-for="product in filteredProducts" :key="product.id">
                        <div class="bg-white rounded-2xl border border-slate-100 overflow-hidden shadow-sm hover:shadow-lg hover:border-brand-gold/30 transition-all duration-300 group flex flex-col relative">
                             <div class="absolute top-3 left-3 z-10 flex gap-1">
                                <span x-show="product.tag" class="bg-brand-orange text-white text-[9px] font-bold px-2 py-0.5 rounded-full shadow-sm" x-text="product.tag"></span>
                            </div>
                            
                            <div class="relative h-40 bg-slate-50 p-4 flex items-center justify-center overflow-hidden">
                                <img :src="product.image" :alt="product.name" 
                                     class="max-w-full max-h-full object-contain group-hover:scale-110 transition-transform duration-500"
                                     onerror="this.src='https://via.placeholder.com/150?text=No+Image'">
                            </div>

                            <div class="p-4 flex flex-col flex-grow">
                                <div class="text-[10px] text-slate-400 font-bold uppercase tracking-wide mb-1" x-text="product.brand"></div>
                                <h3 class="font-bold text-slate-800 text-sm md:text-base mb-1 leading-tight line-clamp-2" x-text="product.name"></h3>
                                <p class="text-xs text-slate-500 mb-3 font-mono" x-text="product.spec"></p>
                                
                                <div class="mt-auto pt-3 border-t border-slate-50">
                                    <button @click="addToCart(product)" 
                                            :class="isInCart(product) ? 'bg-slate-100 text-slate-400 cursor-not-allowed' : 'bg-brand-navy text-white hover:bg-brand-orange'"
                                            class="w-full py-2.5 rounded-xl text-xs md:text-sm font-bold transition-colors flex items-center justify-center gap-2"
                                            :disabled="isInCart(product)">
                                        <span x-text="isInCart(product) ? '담기 완료' : '견적함 담기'"></span>
                                        <i x-show="!isInCart(product)" class="fa-solid fa-plus"></i>
                                        <i x-show="isInCart(product)" class="fa-solid fa-check"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </template>
                </div>

                 <div x-show="filteredProducts.length === 0" class="text-center py-20 bg-slate-50 rounded-2xl border border-dashed border-slate-300">
                    <i class="fa-regular fa-face-sad-tear text-4xl text-slate-300 mb-4"></i>
                    <p class="text-slate-500">검색 결과가 없습니다.</p>
                    <button @click="resetFilters" class="mt-4 text-brand-navy font-bold text-sm hover:underline">필터 초기화</button>
                </div>

            </div>
        </div>
    </main>

    <div x-show="cart.length > 0" class="md:hidden fixed bottom-0 left-0 w-full bg-white border-t border-slate-200 p-4 shadow-[0_-4px_10px_rgba(0,0,0,0.05)] z-40 flex justify-between items-center" x-transition.slide.up>
        <div>
            <span class="text-xs text-slate-500">총 품목</span>
            <div class="text-brand-navy font-bold text-lg"><span x-text="cart.length"></span>건</div>
        </div>
        <button @click="openCartModal = true" class="bg-brand-navy text-white px-6 py-3 rounded-xl text-sm font-bold shadow-lg flex items-center gap-2">
            견적 확인 <i class="fa-solid fa-arrow-right"></i>
        </button>
    </div>

    <div x-show="openCartModal" class="fixed inset-0 z-[70] flex items-center justify-center px-4 md:px-0" x-cloak>
        <div class="absolute inset-0 bg-black/80 backdrop-blur-sm transition-opacity" @click="openCartModal = false"></div>
        
        <div class="bg-white w-full max-w-md h-[85vh] md:h-auto md:max-h-[90vh] rounded-2xl shadow-2xl relative z-10 overflow-hidden flex flex-col transform transition-all" x-transition:enter="translate-y-10 opacity-0" x-transition:enter-end="translate-y-0 opacity-100">
            
            <div x-show="!showReceipt" class="flex flex-col h-full">
                <div class="bg-brand-navy text-white p-5 flex justify-between items-center shrink-0">
                    <div>
                        <h3 class="font-bold text-lg">견적 요청서 작성</h3>
                        <p class="text-[10px] opacity-70 mt-0.5">선택하신 상품을 확인하고 정보를 입력하세요.</p>
                    </div>
                    <button @click="openCartModal = false" class="w-8 h-8 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center"><i class="fa-solid fa-xmark"></i></button>
                </div>
                
                <div class="flex-1 overflow-y-auto custom-scroll p-5 bg-slate-50">
                    <ul class="space-y-2 mb-6">
                        <template x-for="(item, index) in cart" :key="index">
                            <li class="flex justify-between items-center bg-white p-3 rounded-xl border border-slate-100 shadow-sm">
                                <div class="flex items-center gap-3 overflow-hidden">
                                    <div class="w-10 h-10 bg-slate-50 rounded-lg flex items-center justify-center shrink-0">
                                        <img :src="item.image" class="w-8 h-8 object-contain" onerror="this.src='https://via.placeholder.com/150?text=No+Image'">
                                    </div>
                                    <div class="flex flex-col min-w-0">
                                        <span class="font-bold text-slate-800 text-sm truncate" x-text="item.name"></span>
                                        <span class="text-[10px] text-slate-400" x-text="item.spec"></span>
                                    </div>
                                </div>
                                <button @click="removeFromCart(index)" class="text-slate-300 hover:text-red-500 p-2 transition-colors"><i class="fa-solid fa-trash-can"></i></button>
                            </li>
                        </template>
                        <li x-show="cart.length === 0" class="text-center py-10 text-slate-400 border-2 border-dashed border-slate-200 rounded-xl">
                            <p class="text-xs">견적함이 비어있습니다.</p>
                        </li>
                    </ul>

                    <div x-show="cart.length > 0" class="bg-white p-5 rounded-2xl border border-slate-200 shadow-sm">
                        <h4 class="text-sm font-bold text-brand-navy mb-4 border-b border-slate-100 pb-2"><i class="fa-regular fa-id-card mr-1"></i> 사업자 정보 입력</h4>
                        <div class="space-y-3">
                            <div>
                                <label class="text-[11px] font-bold text-slate-500 mb-1 block">업체명 <span class="text-red-500">*</span></label>
                                <input type="text" x-model="userInfo.company" class="w-full px-3 py-2.5 border border-slate-200 bg-slate-50 rounded-lg text-sm outline-none focus:border-brand-navy transition" placeholder="예: 구르메 카페">
                            </div>
                            <div>
                                <label class="text-[11px] font-bold text-slate-500 mb-1 block">연락처 <span class="text-red-500">*</span></label>
                                <input type="text" x-model="userInfo.contact" class="w-full px-3 py-2.5 border border-slate-200 bg-slate-50 rounded-lg text-sm outline-none focus:border-brand-navy transition" placeholder="예: 010-1234-5678">
                            </div>
                            <div>
                                <label class="text-[11px] font-bold text-slate-500 mb-1 block">요청사항</label>
                                <textarea x-model="userInfo.memo" rows="2" class="w-full px-3 py-2.5 border border-slate-200 bg-slate-50 rounded-lg text-sm outline-none focus:border-brand-navy transition" placeholder="예: 매주 화요일 배송 희망"></textarea>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="p-4 border-t border-slate-100 bg-white shrink-0">
                    <button @click="generateReceipt" :disabled="cart.length === 0 || !userInfo.company || !userInfo.contact" class="w-full bg-brand-navy text-white font-bold py-3.5 rounded-xl shadow-lg hover:bg-slate-800 transition disabled:bg-slate-300 disabled:cursor-not-allowed flex items-center justify-center gap-2">
                        <span>견적서 생성하기</span> <i class="fa-solid fa-receipt"></i>
                    </button>
                </div>
            </div>

            <div x-show="showReceipt" class="flex flex-col h-full bg-slate-800">
                <div class="p-4 flex justify-between items-center shrink-0 text-white">
                    <h3 class="font-bold"><i class="fa-solid fa-check-circle text-green-400 mr-2"></i>견적서 생성 완료</h3>
                    <button @click="showReceipt = false" class="text-xs text-slate-300 underline hover:text-white">수정하기</button>
                </div>
                
                <div class="flex-1 bg-slate-800/50 p-4 overflow-y-auto flex justify-center items-start">
                    <div id="receipt-capture" class="w-full max-w-[340px] p-6 text-slate-800 receipt-paper mx-auto bg-white">
                        <div class="receipt-top"></div>
                        
                        <div class="text-center border-b-2 border-brand-navy pb-4 mb-4">
                            <h2 class="text-xl font-extrabold text-brand-navy font-serif-eng italic">Gourmet Jeju</h2>
                            <p class="text-[9px] text-slate-500 tracking-widest uppercase mb-2">Premium Food Partner</p>
                            <div class="inline-block border border-slate-800 px-3 py-1 rounded-full">
                                <p class="text-xs font-bold">견적 요청서</p>
                            </div>
                            <p class="text-[10px] text-slate-400 mt-2 font-mono" x-text="new Date().toLocaleString()"></p>
                        </div>

                        <div class="text-xs mb-4 space-y-1 border-b border-dashed border-slate-300 pb-4 font-mono">
                            <div class="flex justify-between"><span class="text-slate-500">업체명</span> <span class="font-bold" x-text="userInfo.company"></span></div>
                            <div class="flex justify-between"><span class="text-slate-500">연락처</span> <span class="font-bold" x-text="userInfo.contact"></span></div>
                            <div x-show="userInfo.memo" class="mt-2 pt-2 border-t border-dashed border-slate-200">
                                <span class="text-slate-500 block mb-1">요청사항:</span>
                                <span class="block break-words bg-slate-50 p-2 rounded" x-text="userInfo.memo"></span>
                            </div>
                        </div>

                        <table class="w-full text-xs mb-4">
                            <thead class="border-b border-slate-800">
                                <tr class="text-left">
                                    <th class="py-1 font-bold">품목명</th>
                                    <th class="py-1 text-right font-bold">규격</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-dashed divide-slate-200">
                                <template x-for="item in cart">
                                    <tr>
                                        <td class="py-2 pr-2 align-top">
                                            <div class="font-bold text-slate-800" x-text="item.name"></div>
                                            <div class="text-[9px] text-brand-gold font-bold uppercase" x-text="item.brand"></div>
                                        </td>
                                        <td class="py-2 text-right align-top font-mono text-slate-500" x-text="item.spec"></td>
                                    </tr>
                                </template>
                            </tbody>
                        </table>

                        <div class="border-t-2 border-slate-800 pt-3">
                            <div class="flex justify-between items-end mb-4">
                                <span class="font-bold text-sm">총 품목 수</span>
                                <span class="font-extrabold text-lg text-brand-orange"><span x-text="cart.length"></span>건</span>
                            </div>
                            
                            <div class="bg-slate-100 p-3 rounded-lg text-center">
                                <p class="text-[9px] text-slate-500 mb-1">위 품목의 재고 및 B2B 단가 확인을 요청합니다.</p>
                                <p class="text-[10px] font-bold text-brand-navy">구르메 제주 고객센터 010-0000-0000</p>
                            </div>
                        </div>
                        <div class="receipt-bottom"></div>
                    </div>
                </div>

                <div class="p-5 bg-white border-t border-slate-100 shrink-0 rounded-t-2xl">
                    <div x-show="!showKakaoLink">
                        <button @click="saveImage" class="w-full bg-brand-navy text-white font-bold py-3.5 rounded-xl hover:bg-slate-900 transition flex items-center justify-center gap-2 shadow-lg">
                            <i class="fa-solid fa-download"></i> <span>이미지 저장하기</span>
                        </button>
                        <p class="text-[10px] text-center text-slate-400 mt-2">* 이미지를 저장 후 카카오톡으로 보내주세요.</p>
                    </div>

                    <div x-show="showKakaoLink" class="text-center">
                        <p class="text-sm font-bold text-green-600 mb-3"><i class="fa-solid fa-check-circle"></i> 저장이 완료되었습니다!</p>
                        <a href="http://pf.kakao.com/_sJAuxb" target="_blank" class="w-full bg-[#FAE100] text-[#371D1E] font-bold py-3.5 rounded-xl hover:bg-[#F9E000] transition flex items-center justify-center gap-2 shadow-lg">
                            <i class="fa-solid fa-comment text-lg"></i> <span>카톡으로 전송하기</span>
                        </a>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <script>
        function app() {
            return {
                // State
                mobileMenuOpen: false,
                openCartModal: false,
                showReceipt: false,
                showKakaoLink: false,
                isProcessing: false,
                
                // Filter & Sort State
                searchQuery: '',
                filterCategory: 'all',
                filterBrand: '',
                sortBy: 'default',
                
                // Data
                userInfo: { company: '', contact: '', memo: '' },
                cart: [],
                
                categories: [
                    { id: 'dairy', name: '유제품 (치즈/버터)' },
                    { id: 'grocery', name: '가공식품 (오일/파스타)' },
                    { id: 'dessert', name: '디저트/베이커리' },
                    { id: 'meat', name: '샤퀴테리/육가공' }
                ],

                // Step 1: 통합된 브랜드 목록 (3개 파일 전체)
                brands: [
                    // 이탈리아 식자재
                    'Divella', 'Verrigni', 'Bia', 'Star', 'Polli', 'Cannamela', 'Selektia Tartufi', 
                    'Riunione', 'Cosimar', 'Edmond Fallot', 'Bruno', 'Merlini', 'Terra Maris', 
                    'Emile Noel', 'Grissin Bon', 'Agrisicilia', 'Sperlari', 'Rigoni di Asiago', 
                    'Frantoio Bianco', 'Ecosac', 'Gandules', 'De Nigris', 'Villa Modena', 
                    'Petruzzelli', 'Centonze',
                    // 유럽/미국 치즈 및 기타
                    'Isigny Ste-Mère', 'Savencia', 'Mila', 'Brimi', 'Brelat', 'Nonno Nanni', 
                    'Kolios', 'Schlierbacher', 'Cache Valley', 'Emborg', 'Euro Gout', 'Germain', 
                    'Bons Mayennais', 'Fromager d\'Affinois', 'Mon Ami', 'Briette', 'Vagne', 
                    'Davoine', 'Antico Caseificio', 'Farnese', 'Albiero', 'Ferrarini', 'Fallini', 
                    'Emmi', 'L\'angelo', 'Coombe Castle', 'Hajdu', 'Lactima', 'Schipper Cheese', 
                    'Fromage de Gourmet', 'IFC', 'Primula', 'Liberty Lane', 'Elle & Vire', 
                    'Lescure', 'Le Gall', 'Briois', 'Devon Cream Company', 'Fage', 'Kri Kri', 
                    'Rougie', 'Torreon', 'Espuna', 'Ars Italica', 'Calvisius', 'Almas', 
                    'Pescaviar', 'Plantin', 'Santagata', 'Beaufor', 'Percheron freres', 
                    'Casa Rinaldi', 'Belberry', 'Alain Milliat', 'Jam for Cheese', 'Rana', 
                    'Vandemoortele', 'Sofrabrick', 'Sundown', 'Dilecce', 'Le Nostrane', 'FOS', 
                    'Almito', 'Pommery', 'Blackthorn', 'Brioche Pasquier', 'Roberto', 'La Mole', 
                    'Peter\'s Yard', 'Joe & Seph\'s', 'Caramels d\'Isigny', 'Ma Rosie', 'Tipiak', 
                    'Ortiz', 'Francois Doucet', 'Grandjean', 'Lorina', 'Tomarchio', 'Nippy\'s', 
                    'Saint Geron', 'Simple Juicery', 'Publique', 'H.R. Higgins', 'Bonifanti',
                    'Petit Gourmand', 'BelGioioso', 'Organic Valley', 'Pacific Cheese', 
                    'Maîtres Laitiers du Cotentin', 'Ambrosi', 'Dal Molise', 'TSC', 
                    'Unilac Holland', 'Grand\'Or', 'DMK Group', 'Oldenburger', 'Zott', 
                    'Beretta', 'Miccio', 'Bonomi', 'Leksands', 'Tako'
                ],

                // Step 1: 유제품(Dairy) + Step 2: 가공식품(Grocery) 데이터
                products: [
                    // --- Dairy Products (Step 1) ---
                    { id: 1001, name: '이즈니 AOP 버터 롤 (가염)', brand: 'Isigny Ste-Mère', category: 'dairy', spec: '250g', image: 'https://via.placeholder.com/150?text=Isigny+Salted', tag: 'BEST' },
                    { id: 1002, name: '이즈니 AOP 버터 롤 (무염)', brand: 'Isigny Ste-Mère', category: 'dairy', spec: '250g', image: 'https://via.placeholder.com/150?text=Isigny+Unsalted', tag: 'BEST' },
                    { id: 1003, name: '이즈니 포션 버터 (컵)', brand: 'Isigny Ste-Mère', category: 'dairy', spec: '10g x 60ea', image: 'https://via.placeholder.com/150?text=Portion+Cup', tag: '호텔납품' },
                    { id: 1004, name: '이즈니 브리 치즈', brand: 'Isigny Ste-Mère', category: 'dairy', spec: '1kg', image: 'https://via.placeholder.com/150?text=Isigny+Brie', tag: '' },
                    { id: 1005, name: '이즈니 까망베르 노르망디', brand: 'Isigny Ste-Mère', category: 'dairy', spec: '250g', image: 'https://via.placeholder.com/150?text=Camembert', tag: 'AOP' },
                    { id: 1006, name: '이즈니 미몰레뜨 (6개월)', brand: 'Isigny Ste-Mère', category: 'dairy', spec: '210g', image: 'https://via.placeholder.com/150?text=Mimolette', tag: '' },
                    { id: 1007, name: '이즈니 생메르 크렘 프레쉬', brand: 'Isigny Ste-Mère', category: 'dairy', spec: '200ml', image: 'https://via.placeholder.com/150?text=Creme+Fraiche', tag: '소스용' },
                    { id: 2001, name: '벨지오이오소 부라타 (4 balls)', brand: 'BelGioioso', category: 'dairy', spec: '226g', image: 'https://via.placeholder.com/150?text=Burrata', tag: '인기' },
                    { id: 2002, name: '벨지오이오소 후레쉬 모짜렐라 로그', brand: 'BelGioioso', category: 'dairy', spec: '453g', image: 'https://via.placeholder.com/150?text=Mozzarella+Log', tag: '' },
                    { id: 2003, name: '벨지오이오소 슬라이스 모짜렐라', brand: 'BelGioioso', category: 'dairy', spec: '907g', image: 'https://via.placeholder.com/150?text=Sliced+Mozz', tag: '업소용' },
                    { id: 2004, name: '벨지오이오소 리코타', brand: 'BelGioioso', category: 'dairy', spec: '453g', image: 'https://via.placeholder.com/150?text=Ricotta', tag: '' },
                    { id: 2005, name: '벨지오이오소 마스카포네', brand: 'BelGioioso', category: 'dairy', spec: '226g', image: 'https://via.placeholder.com/150?text=Mascarpone', tag: '티라미수' },
                    { id: 2006, name: '벨지오이오소 파마산 쉐이브드 컵', brand: 'BelGioioso', category: 'dairy', spec: '113g', image: 'https://via.placeholder.com/150?text=Parmesan+Cup', tag: '' },
                    { id: 3001, name: '암브로시 마스카포네', brand: 'Ambrosi', category: 'dairy', spec: '500g', image: 'https://via.placeholder.com/150?text=Ambrosi+Masc', tag: '' },
                    { id: 3002, name: '암브로시 고르곤졸라 피칸테', brand: 'Ambrosi', category: 'dairy', spec: '150g', image: 'https://via.placeholder.com/150?text=Gorgonzola', tag: '블루치즈' },
                    { id: 3003, name: '암브로시 그라나 파다노', brand: 'Ambrosi', category: 'dairy', spec: '1kg', image: 'https://via.placeholder.com/150?text=Grana+Padano', tag: '블록' },
                    { id: 3004, name: '암브로시 파르미지아노 레지아노', brand: 'Ambrosi', category: 'dairy', spec: '150g', image: 'https://via.placeholder.com/150?text=Parmigiano', tag: 'DOP' },
                    { id: 4001, name: '엠보그 모짜렐라 슬라이스', brand: 'Emborg', category: 'dairy', spec: '150g', image: 'https://via.placeholder.com/150?text=Emborg+Mozz', tag: '샌드위치' },
                    { id: 4002, name: '엠보그 에멘탈 슬라이스', brand: 'Emborg', category: 'dairy', spec: '150g', image: 'https://via.placeholder.com/150?text=Emmental+Slice', tag: '' },
                    { id: 4003, name: '엠보그 하바티 슬라이스', brand: 'Emborg', category: 'dairy', spec: '150g', image: 'https://via.placeholder.com/150?text=Havarti', tag: '' },
                    { id: 4004, name: '엠보그 크림치즈', brand: 'Emborg', category: 'dairy', spec: '1.36kg', image: 'https://via.placeholder.com/150?text=Cream+Cheese', tag: '대용량' },
                    { id: 4005, name: '엠보그 브리', brand: 'Emborg', category: 'dairy', spec: '125g', image: 'https://via.placeholder.com/150?text=Emborg+Brie', tag: '캔치즈' },
                    { id: 4006, name: '엠보그 까망베르', brand: 'Emborg', category: 'dairy', spec: '125g', image: 'https://via.placeholder.com/150?text=Emborg+Cam', tag: '캔치즈' },
                    { id: 5001, name: '조트 바이에른탈러 에멘탈', brand: 'Zott', category: 'dairy', spec: '200g', image: 'https://via.placeholder.com/150?text=Bayerntaler', tag: '' },
                    { id: 5002, name: '조트 모짜렐라 슬라이스', brand: 'Zott', category: 'dairy', spec: '200g', image: 'https://via.placeholder.com/150?text=Zott+Mozz', tag: '' },
                    { id: 5003, name: '조트 타이거 스트링 치즈', brand: 'Zott', category: 'dairy', spec: '84g', image: 'https://via.placeholder.com/150?text=Tiger+String', tag: '키즈' },
                    { id: 6001, name: '올덴버거 멸균 우유', brand: 'Oldenburger', category: 'dairy', spec: '1L', image: 'https://via.placeholder.com/150?text=UHT+Milk', tag: '멸균' },
                    { id: 6002, name: '올덴버거 휘핑크림', brand: 'Oldenburger', category: 'dairy', spec: '1L', image: 'https://via.placeholder.com/150?text=Whipping+Cream', tag: '제과용' },
                    { id: 6003, name: '올덴버거 고다 슬라이스', brand: 'Oldenburger', category: 'dairy', spec: '150g', image: 'https://via.placeholder.com/150?text=Gouda+Slice', tag: '' },
                    { id: 7001, name: '그랑도르 고다 미니', brand: 'Grand\'Or', category: 'dairy', spec: '100g', image: 'https://via.placeholder.com/150?text=Mini+Gouda', tag: '스낵' },
                    { id: 7002, name: '그랑도르 스모크 치즈', brand: 'Grand\'Or', category: 'dairy', spec: '200g', image: 'https://via.placeholder.com/150?text=Smoked+Cheese', tag: '안주' },
                    { id: 7003, name: '그랑도르 에담 슬라이스', brand: 'Grand\'Or', category: 'dairy', spec: '160g', image: 'https://via.placeholder.com/150?text=Edam+Slice', tag: '' },
                    { id: 8001, name: '브리미 모짜렐라 볼', brand: 'Brimi', category: 'dairy', spec: '125g', image: 'https://via.placeholder.com/150?text=Brimi+Mozz', tag: '이탈리아' },
                    { id: 8002, name: '브리미 리코타', brand: 'Brimi', category: 'dairy', spec: '250g', image: 'https://via.placeholder.com/150?text=Brimi+Ricotta', tag: '' },
                    { id: 8003, name: '브리미 모짜렐라 블록', brand: 'Brimi', category: 'dairy', spec: '1kg', image: 'https://via.placeholder.com/150?text=Mozz+Block', tag: '피자용' },
                    { id: 9001, name: '파예 그릭 요거트 (무지방)', brand: 'Fage', category: 'dairy', spec: '170g', image: 'https://via.placeholder.com/150?text=Fage+0', tag: '다이어트' },
                    { id: 9002, name: '파예 그릭 요거트 (허니)', brand: 'Fage', category: 'dairy', spec: '170g', image: 'https://via.placeholder.com/150?text=Fage+Honey', tag: '' },
                    { id: 9501, name: '오가닉밸리 유기농 기버터', brand: 'Organic Valley', category: 'dairy', spec: '212g', image: 'https://via.placeholder.com/150?text=Ghee+Butter', tag: '유기농' },
                    { id: 9502, name: '오가닉밸리 스트링 치즈', brand: 'Organic Valley', category: 'dairy', spec: '170g', image: 'https://via.placeholder.com/150?text=Org+String', tag: '유기농' },

                    // --- Grocery Products (Step 2: Added) ---
                    // [Divella] - 파스타, 오일, 밀가루
                    { id: 3001, name: '디벨라 스파게티 1.75mm (업소용)', brand: 'Divella', category: 'grocery', spec: '5kg', image: 'https://via.placeholder.com/150?text=Spaghetti+5kg', tag: '대용량' },
                    { id: 3002, name: '디벨라 스파게티니 1.55mm', brand: 'Divella', category: 'grocery', spec: '500g', image: 'https://via.placeholder.com/150?text=Spaghettini', tag: '' },
                    { id: 3003, name: '디벨라 링귀네', brand: 'Divella', category: 'grocery', spec: '500g', image: 'https://via.placeholder.com/150?text=Linguine', tag: '' },
                    { id: 3004, name: '디벨라 페투치네', brand: 'Divella', category: 'grocery', spec: '500g', image: 'https://via.placeholder.com/150?text=Fettuccine', tag: '크림파스타' },
                    { id: 3005, name: '디벨라 펜네 (Penne Ziti Rigate)', brand: 'Divella', category: 'grocery', spec: '500g', image: 'https://via.placeholder.com/150?text=Penne', tag: '숏파스타' },
                    { id: 3006, name: '디벨라 푸질리', brand: 'Divella', category: 'grocery', spec: '500g', image: 'https://via.placeholder.com/150?text=Fusilli', tag: '샐러드용' },
                    { id: 3007, name: '디벨라 엑스트라 버진 올리브오일', brand: 'Divella', category: 'grocery', spec: '1L', image: 'https://via.placeholder.com/150?text=Olive+Oil', tag: '엑스트라버진' },
                    { id: 3008, name: '디벨라 포마스 올리브오일 (조리용)', brand: 'Divella', category: 'grocery', spec: '1L', image: 'https://via.placeholder.com/150?text=Pomace+Oil', tag: '튀김용' },
                    { id: 3009, name: '디벨라 홀 토마토 (캔)', brand: 'Divella', category: 'grocery', spec: '2.5kg', image: 'https://via.placeholder.com/150?text=Whole+Tomato', tag: '업소용' },
                    { id: 3010, name: '디벨라 세몰리나 밀가루', brand: 'Divella', category: 'grocery', spec: '1kg', image: 'https://via.placeholder.com/150?text=Semolina', tag: '파스타용' },
                    
                    // [Star] - 스톡, 소스
                    { id: 3101, name: '스타 다도 클래식 (비프 스톡)', brand: 'Star', category: 'grocery', spec: '100g (10ea)', image: 'https://via.placeholder.com/150?text=Dado+Beef', tag: '육수' },
                    { id: 3102, name: '스타 다도 베지탈레 (야채 스톡)', brand: 'Star', category: 'grocery', spec: '100g (10ea)', image: 'https://via.placeholder.com/150?text=Dado+Veg', tag: '비건' },
                    { id: 3103, name: '스타 라구 소스 (볼로네제)', brand: 'Star', category: 'grocery', spec: '180g x 2', image: 'https://via.placeholder.com/150?text=Ragu+Sauce', tag: '' },
                    { id: 3104, name: '스타 구스토 포르치니 (버섯 스톡)', brand: 'Star', category: 'grocery', spec: '500g', image: 'https://via.placeholder.com/150?text=Porcini+Stock', tag: '리조또' },

                    // [Polli] - 절임, 페스토
                    { id: 3201, name: '폴리 바질 페스토', brand: 'Polli', category: 'grocery', spec: '190g', image: 'https://via.placeholder.com/150?text=Polli+Pesto', tag: '인기' },
                    { id: 3202, name: '폴리 씨없는 블랙 올리브', brand: 'Polli', category: 'grocery', spec: '130g', image: 'https://via.placeholder.com/150?text=Black+Olive', tag: '슬라이스' },
                    { id: 3203, name: '폴리 케이퍼 (식초 절임)', brand: 'Polli', category: 'grocery', spec: '100g', image: 'https://via.placeholder.com/150?text=Capers', tag: '연어용' },
                    { id: 3204, name: '폴리 아티초크 오일 절임', brand: 'Polli', category: 'grocery', spec: '285g', image: 'https://via.placeholder.com/150?text=Artichoke', tag: '안티파스토' },

                    // [Cannamela] - 향신료
                    { id: 3301, name: '칸나멜라 흑후추 그라인더', brand: 'Cannamela', category: 'grocery', spec: '28g', image: 'https://via.placeholder.com/150?text=Black+Pepper', tag: '통후추' },
                    { id: 3302, name: '칸나멜라 핑크 히말라야 소금', brand: 'Cannamela', category: 'grocery', spec: '60g', image: 'https://via.placeholder.com/150?text=Pink+Salt', tag: '그라인더' },
                    { id: 3303, name: '칸나멜라 유기농 오레가노', brand: 'Cannamela', category: 'grocery', spec: '10g', image: 'https://via.placeholder.com/150?text=Oregano', tag: '허브' },
                    { id: 3304, name: '칸나멜라 페페론치노 (홀)', brand: 'Cannamela', category: 'grocery', spec: '21g', image: 'https://via.placeholder.com/150?text=Peperoncino', tag: '매운맛' },

                    // [Selektia Tartufi] - 트러플
                    { id: 3401, name: '셀렉티아 화이트 트러플 오일', brand: 'Selektia Tartufi', category: 'grocery', spec: '250ml', image: 'https://via.placeholder.com/150?text=Truffle+Oil', tag: '고급' },
                    { id: 3402, name: '셀렉티아 트러플 소스 (타르투파타)', brand: 'Selektia Tartufi', category: 'grocery', spec: '500g', image: 'https://via.placeholder.com/150?text=Truffle+Sauce', tag: '업소용' },
                    
                    // [Other Brands]
                    { id: 3501, name: '데니그리스 발사믹 식초', brand: 'De Nigris', category: 'grocery', spec: '500ml', image: 'https://via.placeholder.com/150?text=Balsamic', tag: '' },
                    { id: 3502, name: '빌라모데나 화이트 발사믹', brand: 'Villa Modena', category: 'grocery', spec: '250ml', image: 'https://via.placeholder.com/150?text=White+Balsamic', tag: '드레싱' },
                    { id: 3503, name: '프란토이오 비안코 바질페스토', brand: 'Frantoio Bianco', category: 'grocery', spec: '500g', image: 'https://via.placeholder.com/150?text=Genovese+Pesto', tag: '프리미엄' },
                    { id: 3504, name: '에밀레 노엘 유기농 아보카도 오일', brand: 'Emile Noel', category: 'grocery', spec: '250ml', image: 'https://via.placeholder.com/150?text=Avocado+Oil', tag: '유기농' }
                ],

                // Computed Logic
                get filteredProducts() {
                    return this.products.filter(p => {
                        const matchSearch = p.name.toLowerCase().includes(this.searchQuery.toLowerCase()) || 
                                          p.brand.toLowerCase().includes(this.searchQuery.toLowerCase());
                        const matchCat = this.filterCategory === 'all' || p.category === this.filterCategory;
                        const matchBrand = this.filterBrand === '' || p.brand === this.filterBrand;
                        return matchSearch && matchCat && matchBrand;
                    }).sort((a, b) => {
                        if (this.sortBy === 'name') return a.name.localeCompare(b.name);
                        if (this.sortBy === 'brand') return a.brand.localeCompare(b.brand);
                        return 0;
                    });
                },
                
                get sortedBrands() {
                    return this.brands.sort((a, b) => a.localeCompare(b));
                },

                getProductCount(catId) {
                    return this.products.filter(p => p.category === catId).length;
                },
                
                resetFilters() {
                    this.searchQuery = '';
                    this.filterCategory = 'all';
                    this.filterBrand = '';
                    this.sortBy = 'default';
                },

                // Methods
                addToCart(product) {
                    if (!this.isInCart(product)) {
                        this.cart.push(product);
                    }
                },

                removeFromCart(index) {
                    this.cart.splice(index, 1);
                },

                isInCart(product) {
                    return this.cart.some(item => item.id === product.id);
                },

                generateReceipt() {
                    if (!this.userInfo.company || !this.userInfo.contact) {
                        alert('업체명과 연락처를 입력해주세요.');
                        return;
                    }
                    this.showReceipt = true;
                    this.showKakaoLink = false;
                },

                saveImage() {
                    this.isProcessing = true;
                    const element = document.getElementById('receipt-capture');
                    
                    html2canvas(element, {
                        scale: 2,
                        backgroundColor: null,
                        logging: false
                    }).then(canvas => {
                        const link = document.createElement('a');
                        link.download = `구르메제주_견적_${this.userInfo.company}.png`;
                        link.href = canvas.toDataURL("image/png");
                        link.click();
                        
                        setTimeout(() => {
                            this.isProcessing = false;
                            this.showKakaoLink = true;
                        }, 1000);
                    });
                }
            }
        }
    </script>
</body>
</html>